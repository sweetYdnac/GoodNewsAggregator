@using by.Reba.Application.Models.Account
@using by.Reba.Application.Models.Category
@using by.Reba.Application.Models.PositivityRating
@using by.Reba.Application.Models.Preference

@model EditPreferenceVM

@{
    ViewData["Title"] = "Настройка предпочтений";
}

<h2 class="mb-5 text-center text-success">Настройка предпочтений</h2>

<form asp-controller="Preference" asp-action="Edit" method="post">
    <input type="hidden" name="@nameof(Model.Id)" value="@Model.Id"/>

    <div class="d-flex flex-column justify-content-center flex-sm-row align-items-sm-start gap-1 gap-lg-5">
        <div class="d-flex flex-column pe-1 justify-content-center">
            <h5 class="text-center my-3">Любимые категории:</h5>
            <partial name="_AllCategoriesWithSelectedByPreference" model="@new AllCategoriesVM() { CategoriesIdName = nameof(Model.CategoriesId), Categories = Model.AllCategories}"></partial>
        </div>

        <div class="d-flex justify-content-center flex-column">
            <h5 class="text-center my-3">Позитивность:</h5>
            <partial name="_AllPositivitiesWithSelectedByPreference" model="@new AllPositivitiesVM() { MinPositivityName = nameof(Model.RatingId), Positivities = Model.AllRatings}"></partial>
        </div>
    </div>

    <small class="text-muted ps-3">Предпочтения можно настроить позже в настройках.</small>

    <div class="form-group pt-3 px-5">
        <button type="submit" class="btn btn-success col-12 col-md-6 offset-md-3 col-lg-8 offset-lg-2">Далее</button>
    </div>
</form>

@section Scripts
{
    <script src="~/lib/jquery-validation//dist/jquery.validate.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
}